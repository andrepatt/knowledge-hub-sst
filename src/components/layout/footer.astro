---
import { ThemeToggle } from "@/components/theme-toggle";
import { footerLinks, siteConfig } from "@/config/site";
import { cn } from "@/lib/utils";
import { Icon } from "astro-icon/components";

type Props = {
  className?: string;
};

const { className } = Astro.props;
---

<footer class={cn("border-t relative", className)}>
  <div aria-hidden="true" class="absolute inset-0 h-max w-full m-auto grid grid-cols-2 -space-x-52 opacity-40 dark:opacity-20">
    <div class="blur-[106px] h-56 bg-gradient-to-br from-[#006fb1] to-[#2f8a81]"></div>
    <div class="blur-[106px] h-32 bg-gradient-to-r from-[#3d4f96] to-[#006fb1]"></div>
  </div>
  <div class="container grid grid-cols-1 gap-6 py-14 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-5 relative z-10">
    {
      footerLinks.map((section) => (
        <div>
          <span class="text-sm font-bold text-foreground">
            {section.title}
          </span>
          <ul class="mt-4 list-inside space-y-3">
            {section.items?.map((link) => (
              <li>
                <a
                  href={link.href}
                  class="text-sm text-gray-700 hover:text-primary"
                >
                  {link.title}
                </a>
              </li>
            ))}
          </ul>
        </div>
      ))
    }
    <div class="flex flex-col items-end md:col-span-2 lg:col-span-1">
      <span class="text-ml font-bold text-foreground mb-8">Iscriviti alla newsletter</span>
      <form class="flex flex-col sm:flex-row gap-2">
      <input
        type="email"
        placeholder="Inserisci la tua email"
        class="px-4 py-2 border rounded-md text-sm"
        required
      />
      <button
        type="submit"
        class="px-4 py-2 bg-primary text-white rounded-md text-sm"
      >
        Iscriviti
      </button>
      </form>
    </div>
  </div>

  <div class="border-t py-4 relative z-10">
    <div class="container flex items-center justify-between">
      <a
      href="https://terna.it"
      target="_blank"
      rel="noreferrer"
      class="text-left text-sm text-muted-foreground font-medium underline underline-offset-4"
      >
      Per saperne di pi√π
      </a>

      <div class="flex items-center gap-3">
        <a
          href={siteConfig.links.github}
          target="_blank"
          rel="noreferrer"
          class="font-medium underline underline-offset-4"
        >
          <Icon name="github" class="size-5" />
        </a>
        <ThemeToggle client:load />
      </div>
    </div>
  </div>
</footer>
